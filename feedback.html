<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>InvManage - Feedback</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="dashboard-layout">

    <!-- Sidebar -->
    <div class="sidebar">
      <img src="image.png" alt="Logo" class="sidebar-logo">
      <h1>InvManage Admin</h1>

      <div class="menu">
        <a href="dashboard.html" class="menu-item">Dashboard</a>
        <a href="riwayat.html" class="menu-item">Riwayat Transaksi</a>
        <a href="laporan.html" class="menu-item">üìä Laporan & Analitik</a>
        <a href="profil.html" class="menu-item">Profil</a>
        <a href="feedback.html" class="menu-item active">Feedback</a>
      </div>
    </div>

    <!-- Main content -->
    <div class="main-content">
      <div class="table-box">
        <div class="table-header">
          <div>
            <h2 class="table-title">Feedback dari Pengguna</h2>
            <p style="color:var(--gray-400); margin: 8px 0 0 0; font-size: 14px;">Daftar masukan dari pengguna untuk perbaikan sistem.</p>
          </div>
        </div>

        <table id="tabelFeedback">
          <thead>
            <tr>
              <th>User</th>
              <th>Pesan</th>
              <th>Tanggal</th>
            </tr>
          </thead>
          <tbody>
            <!-- diisi lewat app.js -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Copyright Footer -->
  <footer class="copyright-footer">
    <p>&copy; 2025 InvManage. All rights reserved.</p>
    <div class="copyright-team">
      <div class="team-member">
        <div class="team-role">Software Architect & Developer</div>
        <div class="team-name">
          <a href="https://pddikti.kemdiktisaintek.go.id/detail-mahasiswa/eDuxj6_KTmf6YPT4mS22ImxLcI2AMpeH-UDBV4sZj3dkDlM-mOCRH1tohrHDnMuLchCNVg==" target="_blank">
            Alifito Rabbani Cahyono
          </a>
        </div>
      </div>
      <div class="team-member">
        <div class="team-role">UI/UX Architect & Developer</div>
        <div class="team-name">
          <a href="https://pddikti.kemdiktisaintek.go.id/detail-mahasiswa/NOLSmx8LbYciDdNeAiC78KLe0D79FgZs3AQQ-Rp0U9MwtQK3A48MEeHOf-_ZwbtJOMFwxw==" target="_blank">
            Satria Febry Andanu
          </a>
        </div>
      </div>
      <div class="team-member">
        <div class="team-role">Data Analyst & Engineer</div>
        <div class="team-name">
          <a href="https://pddikti.kemdiktisaintek.go.id/detail-mahasiswa/mhbV5ChTDJtuFBK7x0DFSQMCI7JObDTv_hYV9KHaAA3_Xioi_j3PO2C4_oiCFjQwte-7Ig==" target="_blank">
            Naufal Thafhan
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    console.log('Feedback page loading...');

    function ensureFeedbackFunctions() {
      const requiredFunctions = [
        'loadFeedback', 'showNotification', 'sanitizeInput'
      ];

      const missingFunctions = requiredFunctions.filter(fn => typeof window[fn] !== 'function');
      if (missingFunctions.length > 0) {
        console.log('‚è≥ Missing functions:', missingFunctions.join(', '));
        return false;
      }
      console.log('‚úÖ All Feedback functions available');
      return true;
    }

    function initFeedback() {
      console.log('üöÄ Initializing Feedback page...');

      // Check if table exists
      const tableBody = document.querySelector("#tabelFeedback tbody");
      if (!tableBody) {
        console.error('‚ùå Feedback table body not found!');
        return;
      }
      console.log('‚úÖ Feedback table body found');

      // Load data immediately
      if (typeof loadFeedback === 'function') {
        console.log('üîÑ Calling loadFeedback...');
        loadFeedback();
      } else {
        console.error('‚ùå loadFeedback function not available');
        tableBody.innerHTML = '<tr><td colspan="3" style="color: red;">‚ùå Function not loaded</td></tr>';
      }
    }

    // Wait for functions to be available
    function waitForFeedbackFunctions() {
      if (ensureFeedbackFunctions()) {
        initFeedback();
      } else {
        setTimeout(waitForFeedbackFunctions, 50);
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      console.log('üí¨ Feedback DOMContentLoaded fired');
      // Start waiting for functions
      setTimeout(waitForFeedbackFunctions, 10);
    });
  </script>
  <script src="data.js"></script>
  <script src="app.js?v=20251226"></script>
</body>
</html>
